# Tiny compiler imp.
__Thanks for [this tutorial](https://austinhenley.com/blog/teenytinycompiler1.html) for help__

## Project structure
This project is consisted of three main classes.
* Lexer class : `./lexer/Lexer.cpp` is resposible for lexing the code and output tokens.
* Parser class : `./parser/Parser.cpp` is resposible for parsing the tokens generated by the lexer and use the emitter class to emit the compiled code.
* emitter class : `./emitter/Emitter.cpp` is resposible for generating the compiled code in cpp language.

For each class there is a tester class that test the functionalty of it.

* Lexer tester : `./lexer/Lexer_Test.cpp` to test the lexer
* Parser tester : `./parser/Parser_Test.cpp` to test the parser

There is no tester for the emitter because it is quite intuitive.

## Build and run
There is a build script for the project `./build.sh` valid for macOS and linux.
If you are using windows just follow the commands :
* compile the lexer:
```
g++ -c .\lexer\Lexer.cpp -o .\obj_files\Lexer.o
```

* compile the parser:
```
g++ -c .\parser\Parser.cpp -o .\obj_files\Parser.o
```

* compile the emitter:
```
g++ -c .\emitter\Emitter.cpp -o .\obj_files\Emitter.o
```

* compile the main:
```
g++ -c .\main.cpp -o .\obj_files\main.o
```

* Link object files together:
```
g++ .\obj_files\main.o .\obj_files\Lexer.o .\obj_files\Parser.o .\obj_files\Emitter.o
```

* run the code:
```
.\a.exe
```

this will take toro code in the `input.toro` file and output cpp code in the `output.cpp` file.

To build the test gust follow the commands in the `build_test.sh` file in the lexer and the parser.


## Toro lang syntax

Our language syntax support :
* Number variables : `let var_name = 3.14`
* Printing test : `output "Hello world"`
* Printing numbers : `output var_name*4`
* Input numbers : `input var_name`
* If statment :
```
let var_name = 3.14
if var_name <= 3.14 then
output "Pi"
endif
```

* While loop :
```
let var_name = 10
while var_name > 0 repeat
output var_name
var_name = var_name - 1
endwhile
```
* Comments start with #: `#this is comment`

* __Toro lang does not support extra lines at the end of the code or extra spaces at the end of each line__. please look at the sample at `./input.toro`

